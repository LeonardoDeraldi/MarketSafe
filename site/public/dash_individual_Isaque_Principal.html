<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MarketSafe | Dashboard</title>
    <link rel="stylesheet" href="css/dash_individual_Isaque_TelaPrincipal.css"/>
    <link rel="icon" href="css/icon.png" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://kit.fontawesome.com/0b71632824.js" crossorigin="anonymous"></script>


</head>

<body>
    <div class="container">
        <div class="menu">
            <div class="div_logo">
                <img src="assets/img/Logo Self 2.png" alt="">
                <div class="MKTS">
                    <h1>MKTS</h1>
                </div>
            </div>
            <div class="select_dash">
                <h2>Dashboards</h2>
            </div>
            <div class="regiao-select">
                <div class="analista">
                    <h3>Analista</h3>
                </div>
                <div class="monitoramento">
                    <p>Monitoramento</p> <i class='bx bx-show'></i>
                </div>
                <div class="monitoramento">
                    <p>Histórico</p> <i class='bx bx-file-blank'></i>
                </div>
                <div class="monitoramento">
                    <p>BenchMark</p> <i class="fa-solid fa-scale-balanced"></i>
                </div>
            </div>
            <div class="linha">
            </div>
            <div class="perfil">
                <div class="foto_perfil">
                    <img src="css/foto-anilista.jpg" alt="">
                </div>
                <div class="nome_perfil">
                    <div class="nome">
                        <h2>Fred</h2>
                    </div>
                    <hr>
                    <div class="cargo">
                        <p>Analista</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="dashes">
            <div class="Div_Botao_Alerta">
                <div class="icon" onclick="acionarAlertasENotificacao()">
                    <i class="fa-solid fa-triangle-exclamation"><span id="QtdAlertas"></span></i>
                </div>
            </div>
            <div class="Span_Titulo">
                <span>Monitoramento Geral</span>
            </div>
            <div class="Alinhando_Dashs">
                <div id="chart-RealTimeLine1"></div>
                <div id="chart-RealTimeLine2"></div>
                <div class="totens">
                    <div class="totens-quantidade">
                        <h3>Quantidade de Totens</h3>
                        <span>5</span>
                    </div>
                    <div class="totens-problema">
                        <h4>Nº de Totens com Problema</h4>
                        <span>3</span>
                    </div>
                </div>
            </div>
            <div class="Fundo_Select_Totem">
                <div class="Select_Totem" >
                    Monitorar Totem
                    <select name="" id="">
                        <option selected disabled value="0">Selecionar</option>
                        <option value="1">Totem 1</option>
                        <option value="2">Totem 2</option>
                        <option value="3">Totem 3</option>
                        <option value="4">Totem 4</option>
                        <option value="5">Totem 5</option>
                    </select>
                </div>
            </div>
            <div class="Titulo_Intavel">
                <span>Totens Instáveis</span>
            </div>
            <div class="bloco_monitoramento">
                <!-- 1º Dash Rosca  -->
                <div class="Dash_Doughs">
                    <div class="totem-label">Totem 1</div>
                    <div class="Direcionando_DashRosca1">
                        <div id="chart_Rosca"></div>
                        <div class="legenda">
                            <div class="legenda-item">
                                <div class="Direcionando_Label">
                                    <div class="legenda-cor-bola"></div>
                                    <div style="font-family: Abel;"><div class="Text_Ram" id="Ram_T1"></div></div>
                                </div>
                                <div class="Direcionando_Label">
                                    <div class="legenda-cor-bola2"></div>
                                    <div style="font-family: Abel;"><div class="Text_Cpu" id="Cpu_T1"></div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 2º Dash Rosca  -->
                <div class="Dash_Doughs">
                    <div class="totem-label">Totem 2</div>
                    <div class="Direcionando_DashRosca1">
                        <div id="chart_Rosca2"></div>
                        <div class="legenda">
                            <div class="legenda-item">
                                <div class="Direcionando_Label">
                                    <div class="legenda-cor-bola"></div>
                                    <div style="font-family: Abel;"><div class="Text_Ram" id="Ram_T2"></div></div>
                                </div>
                                <div class="Direcionando_Label">
                                    <div class="legenda-cor-bola2"></div>
                                    <div style="font-family: Abel;"><div class="Text_Cpu" id="Cpu_T2"></div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 3º Dash Rosca  -->
                <div class="Dash_Doughs">
                    <div class="totem-label">Totem 3</div>
                    <div class="Direcionando_DashRosca1">
                        <div id="chart_Rosca3"></div>
                        <div class="legenda">
                            <div class="legenda-item">
                                <div class="Direcionando_Label">
                                    <div class="legenda-cor-bola"></div>
                                    <div style="font-family: Abel;"><div class="Text_Ram" id="Ram_T3"></div></div>
                                </div>
                                <div class="Direcionando_Label">
                                    <div class="legenda-cor-bola2"></div>
                                    <div style="font-family: Abel;"><div class="Text_Cpu" id="Cpu_T3"></div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- <button class="button" onclick="notificacao(ErroMsg)">Teste Notificar</button> -->

            <div class="notifi-box" id="box">
                <h2>Alertas<span id="QtdAlertas2"></span></h2> <!--textinho dentro do alerta-->
                <div class="notifi-item">
                    <div class="text">
                        <h4 id="Txt_totem">Totem 4</h4>
                        <p>O Totem 4 deu problema</p>
                    </div>
                </div>
            </div>
            <div id="notify_box"></div>

        </div>

    </div>

</body>

</html>

<script>



    //Gráfico 1

    var dataSeries = [];
    var dataSeries2 = [];
    var dataSeries3 = [];
    var dataSeries4 = [];
    var dataSeries5 = [];

    // function TesteGrafico() {

    //     var valorAleatorio1 = Math.random() * 75;
    //     var valorAleatorio2 = Math.random() * 75;
    //     var valorAleatorio3 = Math.random() * 75;
    //     var valorAleatorio4 = Math.random() * 75;
    //     var valorAleatorio5 = Math.random() * 75;

    // //    dataSeries.push({ x: tempo, y: parseFloat(valorAleatorio1.toFixed(1)) });
    //     dataSeries2.push({ x: tempo, y: parseFloat(valorAleatorio2.toFixed(1)) });
    //     dataSeries3.push({ x: tempo, y: parseFloat(valorAleatorio3.toFixed(1)) });
    //     dataSeries4.push({ x: tempo, y: parseFloat(valorAleatorio4.toFixed(1)) });
    //     dataSeries5.push({ x: tempo, y: parseFloat(valorAleatorio5.toFixed(1)) });

    //     tempo += 1;

    //     if (dataSeries.length > 60) {
    //         dataSeries.shift();
    //         dataSeries2.shift();
    //         dataSeries3.shift();
    //         dataSeries4.shift();
    //         dataSeries5.shift();
    //     }
    // }


    // Configurações do gráfico ApexCharts Gráfico 1
    var options = {
        series: [
            {
                name: 'T1',
                data: dataSeries,
                color: "white"
            },
            {
                name: 'T2',
                data: dataSeries2
            },
            {
                name: 'T3',
                data: dataSeries3
            },
            {
                name: 'T4',
                data: dataSeries4
            },
            {
                name: 'T5',
                data: dataSeries5
            }
        ],
        chart: {
            id: 'area-datetime',
            type: 'line',
            width: '400px',
            height: 250,
            animations: {
                enabled: false,
                easing: 'linear',
                dynamicAnimation: {
                    speed: 1000
                }
            },
            toolbar: {
                show: false
            }
        },
        dataLabels: {
            enabled: false,
            colors: "white",
        },
        tooltip: {
            theme: 'dark',
            x: {
                show: false
            }
        },
        fill: {
            type: 'solid',
            gradient: {
                shadeIntensity: 1,
                opacityFrom: 0.7,
                opacityTo: 0.9,
                stops: [0, 100]
            }
        },
        legend: {
            show: true,
            labels: {
                colors: "#ffff",
                useSeriesColors: false
            }
        },
        xaxis: {
            title: {
                text: '',
                style: {
                    color: '#ffff',
                    fontSize: '15px',
                    fontFamily: 'Abel',
                },
                offsetX: -330
            },
            type: 'numeric',
            tickAmount: 10,
            labels: {
                show: false
            }
        },
        yaxis: {
            min: 0,
            max: 100,
            labels: {
                formatter: function (value) {
                    if (value === 100) return 'Max - 100%';
                    if (value === 0) return 'Min - 0%';
                    return value + '%';
                },
                style: {
                    colors: '#ffffff',
                    fontSize: '12px',
                    fontFamily: 'Abel',
                    marginLeft: '15px'
                },
                offsetX: +5
            }
        },
        title: {
            text: 'Uso de CPU (%)',
            style: {
                color: '#ffffff',
                fontSize: '20px',
                fontFamily: 'Abel',
            },
            offsetX: +150
        }
    };
    var chart = new ApexCharts(document.querySelector("#chart-RealTimeLine1"), options);
    chart.render();

    // Atualiza o gráfico a cada segundo com novos valores
    // setInterval(() => {
    //     TesteGrafico();
    //     chart.updateSeries([
    //         { data: [...dataSeries] },
    //         { data: [...dataSeries2] },
    //         { data: [...dataSeries3] },
    //         { data: [...dataSeries4] },
    //         { data: [...dataSeries5] }
    //     ]);
    // }, 1000);

    //-------------------------------------------------------//

    //Gráfico 2

    var dataSeries6 = [];
    var dataSeries7 = [];
    var dataSeries8 = [];
    var dataSeries9 = [];
    var dataSeries10 = [];

    //Gráfico 2

    // function TesteGrafico2() {

    //     var valorAleatorio6 = Math.random() * 60;
    //     var valorAleatorio7 = Math.random() * 60;
    //     var valorAleatorio8 = Math.random() * 60;
    //     var valorAleatorio9 = Math.random() * 60;
    //     var valorAleatorio10 = Math.random() * 60;

    //     var DtAleatorio6 = parseFloat(valorAleatorio6.toFixed(1));
    //     var DtAleatorio7 = parseFloat(valorAleatorio7.toFixed(1));
    //     var DtAleatorio8 = parseFloat(valorAleatorio8.toFixed(1));
    //     var DtAleatorio9 = parseFloat(valorAleatorio9.toFixed(1));
    //     var DtAleatorio10 = parseFloat(valorAleatorio10.toFixed(1));

    //     dataSeries6.push({ x: tempo2, y: DtAleatorio6 });
    //     dataSeries7.push({ x: tempo2, y: DtAleatorio7 });
    //     dataSeries8.push({ x: tempo2, y: DtAleatorio8 });
    //     dataSeries9.push({ x: tempo2, y: DtAleatorio9 });
    //     dataSeries10.push({ x: tempo2, y: DtAleatorio10 });
    //     tempo2 += 1;

    //     if (dataSeries6.length > 15) {
    //         dataSeries6.shift();
    //         dataSeries7.shift();
    //         dataSeries8.shift();
    //         dataSeries9.shift();
    //         dataSeries10.shift();
    //     }
    // }


    // Configurações do gráfico ApexCharts Gráfico 2
    var options2 = {
        series: [
            {
                name: 'T1',
                data: dataSeries6
            },
            {
                name: 'T2',
                data: dataSeries7
            },
            {
                name: 'T3',
                data: dataSeries8
            },
            {
                name: 'T4',
                data: dataSeries9
            },
            {
                name: 'T5',
                data: dataSeries10,
            },
        ],
        chart: {
            id: 'area-datetime',
            type: 'line',
            width: '400px',
            height: 250,
            animations: {
                enabled: false,
                easing: 'linear',
                dynamicAnimation: {
                    speed: 1000
                }
            },
            toolbar: {
                show: false
            }
        },
        dataLabels: {
            enabled: false
        },
        tooltip: {
            theme: 'dark',
            x: {
                show: false
            }
        },
        fill: {
            type: 'solid',
            gradient: {
                shadeIntensity: 1,
                opacityFrom: 0.7,
                opacityTo: 0.9,
                stops: [0, 100]
            }
        },
        legend: {
            show: true,
            labels: {
                colors: "#ffff",
                useSeriesColors: false
            },
        },
        xaxis: {
            title: {
                text: '',
                style: {
                    color: '#ffff',
                    fontSize: '15px',
                    fontFamily: 'Abel',
                },
                offsetX: -330
            },
            type: 'numeric',
            tickAmount: 10,
            labels: {
                show: false
            }
        },
        yaxis: {
            min: 0,
            max: 100,
            labels: {
                formatter: function (value) {
                    if (value === 100) return '100%';
                    if (value === 0) return '0%';
                    return value + '%';
                },
                style: {
                    colors: '#ffffff',
                    fontSize: '12px',
                    fontFamily: 'Abel',
                    marginLeft: '15px'
                },
                offsetX: +5
            }
        },
        title: {
            text: 'Uso de RAM (%)',
            style: {
                color: '#ffffff',
                fontSize: '20px',
                fontFamily: 'Abel',
            },
            offsetX: +150
        }
    };

    // Cria o gráfico
    var chart2 = new ApexCharts(document.querySelector("#chart-RealTimeLine2"), options2);
    chart2.render();

    // Atualiza o gráfico a cada segundo com novos valores
    // setInterval(() => {
    //     TesteGrafico2();
    //     chart2.updateSeries([
    //         { data: [...dataSeries6]},
    //         { data: [...dataSeries7]},
    //         { data: [...dataSeries8]},
    //         { data: [...dataSeries9]},
    //         { data: [...dataSeries10]}
    //     ]);
    // }, 1000);


    //-------------- Alertas -----------------//

    let notify_box = document.getElementById('notify_box');
    let ErroMsg = '<i class="fa-solid fa-circle-exclamation"></i> Erro no Totem';

    var QtdNotify = 0;
    var QtdNotify2 = 0;
    var contador = 0;

    var box = document.getElementById('box');
    var down = false;

    function Alertas() {
        if (down) {
            box.style.height = '0px';
            box.style.opacity = 0;
            box.classList.remove('open');
            down = false;
        } else {
            box.style.height = '510px';
            box.style.opacity = 1;
            setTimeout(function () {
                box.classList.add('open');
            }, 300);
            down = true;
        }

    }

    function notificacao(msg) {

        let notify = document.createElement('div');
        notify.classList.add('notify');
        notify.innerHTML = msg;
        notify_box.appendChild(notify);


        setTimeout(() => {
            notify.remove();
        }, 5000);

        for (i = 0; i <= contador; i++) {
            QtdNotify++;
            QtdNotify2++;
            document.getElementById("QtdAlertas").innerHTML = `${QtdNotify}`;
            document.getElementById("QtdAlertas2").innerHTML = `${QtdNotify2}`;
            document.getElementById("QtdAlertas").style.backgroundColor = "#ffffff";
        }

    }

    function acionarAlertasENotificacao() {
        Alertas();
        // notificacao();
    }


    // Grafico de Rosca O_o

    // 1º Gráfico 
    var options3 = {
        series: [0,0],
        chart: {
            width: 200,
            height: 200,
            type: 'radialBar'
        },
        plotOptions: {
            radialBar: {
                hollow: {
                    size: '50%'
                },
                track: {
                    background: '#CCCCCC',
                    strokeWidth: '100%',
                },
                dataLabels: {
                    show: false
                }
            }
        },
        colors: ['#FF4560', '#FFA500'],
        labels: ['RAM', 'CPU'],
        legend: {
            show: false
        },
        stroke: {
            lineCap: 'round'
        }
    };

    var chart3 = new ApexCharts(document.querySelector("#chart_Rosca"), options3);
    chart3.render();

    // 2º Gráfico 

    var options4 = {
        series: [0,0],
        chart: {
            width: 200,
            height: 200,
            type: 'radialBar'
        },
        plotOptions: {
            radialBar: {
                hollow: {
                    size: '50%'
                },
                track: {
                    background: '#CCCCCC',
                    strokeWidth: '100%',
                },
                dataLabels: {
                    show: false
                }
            }
        },
        colors: ['#FF4560', '#FFA500'],
        labels: ['RAM', 'CPU'],
        legend: {
            show: false
        },
        stroke: {
            lineCap: 'round'
        }
    };

    var chart4 = new ApexCharts(document.querySelector("#chart_Rosca2"), options4);
    chart4.render();

    // 3º Gráfico 

    var options5 = {
        series: [0, 0],
        chart: {
            width: 200,
            height: 200,
            type: 'radialBar'
        },
        plotOptions: {
            radialBar: {
                hollow: {
                    size: '50%'
                },
                track: {
                    background: '#CCCCCC',
                    strokeWidth: '100%',
                },
                dataLabels: {
                    show: false
                }
            }
        },
        colors: ['#FF4560', '#FFA500'],
        labels: ['RAM', 'CPU'],
        legend: {
            show: false
        },
        stroke: {
            lineCap: 'round'
        }
    };

    var chart5 = new ApexCharts(document.querySelector("#chart_Rosca3"), options5);
    chart5.render();
    var tempo = 0;

    // --------- CPU do Totem 1 ------------//

    function Atualizar_ValorT1() {
    fetch("/monitoramento/AtualizarValorT1", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorCpu = parseFloat(resultado[0].CpuT1); 
                dataSeries.push({ x: tempo, y: valorCpu });
                tempo += 1; 
                // console.log(dataSeries); 

                if (dataSeries.length > 35) {
                    dataSeries.shift();
                }   

                chart.updateSeries([
                    { name: 'T1', data: dataSeries  },
                    { name: 'T2', data: dataSeries2 },
                    { name: 'T3', data: dataSeries3 },
                    { name: 'T4', data: dataSeries4 },
                    { name: 'T5', data: dataSeries5 }
                ]);

            }
        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorT1, 1000);

    // --------- CPU do Totem 2 ------------//

function Atualizar_ValorT2() {
    fetch("/monitoramento/AtualizarValorT2", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorCpu = parseFloat(resultado[0].CpuT2); 
                dataSeries2.push({ x: tempo, y: valorCpu });
                tempo += 1; 
                // console.log(dataSeries2); 


                if (dataSeries2.length > 35) {
                    dataSeries2.shift();
                }

                chart.updateSeries([
                    { name: 'T1', data: dataSeries  },
                    { name: 'T2', data: dataSeries2 },
                    { name: 'T3', data: dataSeries3 },
                    { name: 'T4', data: dataSeries4 },
                    { name: 'T5', data: dataSeries5 }
                ]);

            }

        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorT2, 1000);

// --------- CPU do Totem 3 ------------//

function Atualizar_ValorT3() {
    fetch("/monitoramento/AtualizarValorT3", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorCpu = parseFloat(resultado[0].CpuT3); 
                dataSeries3.push({ x: tempo, y: valorCpu });
                tempo += 1; 
                // console.log(dataSeries3); 

                if (dataSeries3.length > 60) {
                dataSeries3.shift();
                }

                chart.updateSeries([
                    { name: 'T1', data: dataSeries  },
                    { name: 'T2', data: dataSeries2 },
                    { name: 'T3', data: dataSeries3 },
                    { name: 'T4', data: dataSeries4 },
                    { name: 'T5', data: dataSeries5 }
                ]);

            }


        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorT3, 1000);

// --------- CPU do Totem 4 ------------//

function Atualizar_ValorT4() {
    fetch("/monitoramento/AtualizarValorT4", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorCpu = parseFloat(resultado[0].CpuT4); 
                dataSeries4.push({ x: tempo, y: valorCpu });
                tempo += 1; 
                // console.log(dataSeries4); 

                if (dataSeries4.length > 60) {
                    dataSeries4.shift();
                }

                chart.updateSeries([
                    { name: 'T1', data: dataSeries  },
                    { name: 'T2', data: dataSeries2 },
                    { name: 'T3', data: dataSeries3 },
                    { name: 'T4', data: dataSeries4 },
                    { name: 'T5', data: dataSeries5 }
                ]);

            }

        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorT4, 1000);

// --------- CPU do Totem 5 ------------//

function Atualizar_ValorT5() {
    fetch("/monitoramento/AtualizarValorT5", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorCpu = parseFloat(resultado[0].CpuT5); 
                dataSeries5.push({ x: tempo, y: valorCpu });
                tempo += 1; 
                // console.log(dataSeries5); 

                if (dataSeries5.length > 60) {
                    dataSeries5.shift();
                }

                chart.updateSeries([
                    { name: 'T1', data: dataSeries  },
                    { name: 'T2', data: dataSeries2 },
                    { name: 'T3', data: dataSeries3 },
                    { name: 'T4', data: dataSeries4 },
                    { name: 'T5', data: dataSeries5 }
                ]);

            }

        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorT5, 1000);


// --------- Ram do Totem 1 ------------//

function Atualizar_ValorRamT1() {
    fetch("/monitoramento/AtualizarValorRamT1", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorRam = parseFloat(resultado[0].RamT1); 
                dataSeries6.push({ x: tempo, y: valorRam });
                tempo += 1; 
                // console.log(dataSeries6); 

                if (dataSeries6.length > 60) {
                    dataSeries6.shift();
                }

                chart2.updateSeries([
                    { name: 'T1', data: dataSeries6  },
                    { name: 'T2', data: dataSeries7 },
                    { name: 'T3', data: dataSeries8 },
                    { name: 'T4', data: dataSeries9 },
                    { name: 'T5', data: dataSeries10 }
                ]);


            }

        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorRamT1, 1000);

// --------- Ram do Totem 2 ------------//

function Atualizar_ValorRamT2() {
    fetch("/monitoramento/AtualizarValorRamT2", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorRam = parseFloat(resultado[0].RamT2); 
                dataSeries7.push({ x: tempo, y: valorRam });
                tempo += 1; 
                // console.log(dataSeries7); 

                if (dataSeries7.length > 60) {
                    dataSeries7.shift();
                }

                chart2.updateSeries([
                    { name: 'T1', data: dataSeries6  },
                    { name: 'T2', data: dataSeries7 },
                    { name: 'T3', data: dataSeries8 },
                    { name: 'T4', data: dataSeries9 },
                    { name: 'T5', data: dataSeries10 }
                ]);


            }

        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorRamT2, 1000);

// --------- Ram do Totem 3 ------------//

function Atualizar_ValorRamT3() {
    fetch("/monitoramento/AtualizarValorRamT3", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorRam = parseFloat(resultado[0].RamT3); 
                dataSeries8.push({ x: tempo, y: valorRam });
                tempo += 1; 
                // console.log(dataSeries8); 

                if (dataSeries8.length > 60) {
                    dataSeries8.shift();
                }

                chart2.updateSeries([
                    { name: 'T1', data: dataSeries6  },
                    { name: 'T2', data: dataSeries7 },
                    { name: 'T3', data: dataSeries8 },
                    { name: 'T4', data: dataSeries9 },
                    { name: 'T5', data: dataSeries10 }
                ]);


            }

        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorRamT3, 1000);

// --------- Ram do Totem 4 ------------//

function Atualizar_ValorRamT4() {
    fetch("/monitoramento/AtualizarValorRamT4", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorRam = parseFloat(resultado[0].RamT4); 
                dataSeries9.push({ x: tempo, y: valorRam });
                tempo += 1; 
                // console.log(dataSeries9); 

                if (dataSeries9.length > 60) {
                    dataSeries9.shift();
                }

                chart2.updateSeries([
                    { name: 'T1', data: dataSeries6  },
                    { name: 'T2', data: dataSeries7 },
                    { name: 'T3', data: dataSeries8 },
                    { name: 'T4', data: dataSeries9 },
                    { name: 'T5', data: dataSeries10 }
                ]);


            }

        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorRamT4, 1000);

// --------- Ram do Totem 5 ------------//

function Atualizar_ValorRamT5() {
    fetch("/monitoramento/AtualizarValorRamT5", 
    { method: "POST" })
        .then(response => {
            //console.log(response)
            //response.text().then(text => console.log(text))
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Erro ao buscar os dados do servidor.");
            }
        })
        .then(resultado => {
            if (resultado.length > 0) {
                // console.log(resultado)
                const valorRam = parseFloat(resultado[0].RamT5); 
                dataSeries10.push({ x: tempo, y: valorRam });
                tempo += 1; 
                // console.log(dataSeries10); 

                if (dataSeries10.length > 60) {
                    dataSeries10.shift();
                }

                chart2.updateSeries([
                    { name: 'T1', data: dataSeries6  },
                    { name: 'T2', data: dataSeries7 },
                    { name: 'T3', data: dataSeries8 },
                    { name: 'T4', data: dataSeries9 },
                    { name: 'T5', data: dataSeries10 }
                ]);


            }

        })
        .catch(error => {
            console.error("Erro na requisição:", error);
        });
}
setInterval(Atualizar_ValorRamT5, 1000);

var VetorCpuT1 = [];
var VetorRamT1 = [];

var VetorCpuT2 = [];
var VetorRamT2 = [];

var VetorCpuT3 = [];
var VetorRamT3 = [];

var VetorCpuT4 = [];
var VetorRamT4 = [];

var VetorCpuT5 = [];
var VetorRamT5 = [];


function Atualizar_Vetores() {

    // ------------- T1 ------------- //
    if (dataSeries.length > 0) {
        const ultimoValorCpuT1 = Math.round(dataSeries[dataSeries.length - 1].y);
        VetorCpuT1 = [ultimoValorCpuT1]; 
    }
    if (dataSeries6.length > 0) {
        const ultimoValorRamT2 = Math.round(dataSeries6[dataSeries6.length - 1].y);
        VetorRamT1 = [ultimoValorRamT2]; 
    }

    // ------------- T2 ------------- //
    if (dataSeries2.length > 0) {
        const ultimoValorCpuT2 = Math.round(dataSeries2[dataSeries2.length - 1].y);
        VetorCpuT2 = [ultimoValorCpuT2]; 
    }
    if (dataSeries7.length > 0) {
        const ultimoValorRamT2 = Math.round(dataSeries7[dataSeries7.length - 1].y);
        VetorRamT2 = [ultimoValorRamT2]; 
    }

    // ------------- T3 ------------- //
    if (dataSeries3.length > 0) {
        const ultimoValorCpuT3 = Math.round(dataSeries3[dataSeries3.length - 1].y);
        VetorCpuT3 = [ultimoValorCpuT3]; 
    }
    if (dataSeries8.length > 0) {
        const ultimoValorRamT3 = Math.round(dataSeries8[dataSeries8.length - 1].y);
        VetorRamT3 = [ultimoValorRamT3]; 
    }
    // ------------- T4 ------------- //
    if (dataSeries4.length > 0) {
        const ultimoValorCpuT4 = Math.round(dataSeries4[dataSeries4.length - 1].y);
        VetorCpuT4 = [ultimoValorCpuT4]; 
    }
    if (dataSeries9.length > 0) {
        const ultimoValorRamT4 = Math.round(dataSeries9[dataSeries9.length - 1].y);
        VetorRamT4 = [ultimoValorRamT4]; 
    }
    // ------------- T5 ------------- //
    if (dataSeries5.length > 0) {
        const ultimoValorCpuT5 = Math.round(dataSeries5[dataSeries5.length - 1].y);
        VetorCpuT5 = [ultimoValorCpuT5]; 
    }
    if (dataSeries10.length > 0) {
        const ultimoValorRamT5 = Math.round(dataSeries10[dataSeries10.length - 1].y);
        VetorRamT5 = [ultimoValorRamT5]; 
    }

}

// ------------ Primeiro Gráfico Dough -------------- //

function Atualizar_Dough1(){

    Atualizar_Vetores();

    const valorCPU = VetorCpuT1[0] || 0; 
    const valorRAM = VetorRamT1[0] || 0;

    chart3.updateSeries([valorRAM, valorCPU]);

    Ram_T1.innerHTML = `${valorRAM}%`;
    Cpu_T1.innerHTML = `${valorCPU}%`;

    // console.log(VetorCpuT1, VetorRamT1)
}
setInterval(Atualizar_Dough1, 1000);

// ------------ Segundo Gráfico Dough -------------- //

function Atualizar_Dough2(){

    Atualizar_Vetores();

    const valorCPU = VetorCpuT2[0] || 0; 
    const valorRAM = VetorRamT2[0] || 0;

    chart4.updateSeries([valorRAM, valorCPU]);

    Ram_T2.innerHTML = `${valorRAM}%`;
    Cpu_T2.innerHTML = `${valorCPU}%`;

    // console.log(VetorCpuT2, VetorRamT2)
}
setInterval(Atualizar_Dough2, 1000);

// ------------ Terceiro Gráfico Dough -------------- //

function Atualizar_Dough3(){

    Atualizar_Vetores();

    const valorCPU = VetorCpuT3[0] || 0; 
    const valorRAM = VetorRamT3[0] || 0;

    chart5.updateSeries([valorRAM, valorCPU]);

    Ram_T3.innerHTML = `${valorRAM}%`;
    Cpu_T3.innerHTML = `${valorCPU}%`;

    // console.log(VetorCpuT3, VetorRamT3)
}
setInterval(Atualizar_Dough3, 1000);

// ------------ Quarto Gráfico Dough -------------- //

function Atualizar_Dough4(){

    Atualizar_Vetores();

    const valorCPU = VetorCpuT4[0] || 0; 
    const valorRAM = VetorRamT4[0] || 0;

    //chart6.updateSeries([valorRAM, valorCPU]);

    // console.log(VetorCpuT4, VetorRamT4)
}
setInterval(Atualizar_Dough4, 1000);

// ------------ Quinto Gráfico Dough -------------- //

function Atualizar_Dough5(){

    Atualizar_Vetores();

    const valorCPU = VetorCpuT5[0] || 0; 
    const valorRAM = VetorRamT5[0] || 0;

    //chart7.updateSeries([valorRAM, valorCPU]);

    // console.log(VetorCpuT5, VetorRamT5)
}
setInterval(Atualizar_Dough5, 1000);

</script>