<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MarketSafe | Dashboard</title>
    <link rel="stylesheet" href="./css/dash_historico_analista.css" />
    <link rel="icon" href="css/icon.png" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>
    <div class="container">
        <div class="menu">
            <div class="div_logo">
                <img src="assets/img/Logo Self 2.png" alt="">
                <div class="MKTS">
                    <h1>MKTS</h1>
                </div>
            </div>
            <div class="select_dash">
                <h2>Dashboards</h2>
            </div>
            <div class="regiao-select">
                <div class="analista">
                    <h3>Analista</h3>
                </div>
                <div class="monitoramento">
                    <p>Monitoramento</p> <i class='bx bx-show'></i>
                </div>
                <div class="monitoramento">
                    <p>Histórico</p> <i class='bx bx-file-blank'></i>
                </div>
                <div class="monitoramento">
                    <p>BenchMark</p> <i class="fa-solid fa-scale-balanced"></i>
                </div>
            </div>
            <div class="linha">
            </div>
            <div class="perfil">
                <div class="foto_perfil">
                    <img src="css/foto-anilista.jpg" alt="">
                </div>
                <div class="nome_perfil">
                    <div class="nome">
                        <h2>Fred</h2>
                    </div>
                    <hr>
                    <div class="cargo">
                        <p>Analista</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="dashes">
            <div class="titulo">
                <h1>Dashboard Histórico</h1>
            </div>
            <div class="periodo">
                <h2>Escolha um periodo para analisar</h2>
                <div class="select_periodo">
                    <select name="ano">
                        <option selected value="">Escolha um mês</option>
                    </select>
                    <select name="ano">
                        <option selected value="">Escolha os dias</option>
                    </select>
                </div>
            </div>
            <div class="graficos_dashes">
                <div class="linha_grafico1">
                    <div id="rank" class="grafico1">

                    </div>
                    <div id="taxa" class="grafico2">

                    </div>
                </div>
                <div class="linha_grafico2">
                    <div id="total" class="grafico3">

                    </div>
                    <div class="grafico4">
                        <div class="media">
                            <div class="texto">
                                <p>Média de horário com mais movimento</p>
                            </div>
                            <div class="hora">
                                <p></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</body>

</html>

<script>

    // gráfico de barra do ranking
    var options = {
        series: [{
            data: [50, 43, 38, 34, 25],
        }],
        chart: {
            type: 'bar',
            height: 230,
            toolbar: {
                show: false
            }
        },
        title: {
            text: "Totens com mais alertas da semana",
            align: "center",
            style: {
                color: "#ffffff",
                fontFamily: "Abel",
                fontSize: "20px"
            }
        },
        plotOptions: {
            bar: {
                borderRadiusApplication: 'end',
                horizontal: true,
                colors: {
                    ranges: [{
                        from: 0,
                        to: 100,
                        color: '#FF8818' // Cor das barras
                    }]
                }
            }
        },
        dataLabels: {
            enabled: false
        },
        xaxis: {
            min: 0,
            max: 100,
            categories: ['Totem 3', 'Totem 5', 'Totem 4', 'Totem 7', 'Totem 1'],
            title: {
                text: 'Número de alertas por totem',
                fontFamily: 'Abel',
                style:{
                    color: '#ffffff'
                }
            },
            labels: {
                style: {
                    colors: "#FFFFFF",
                    fontFamily: "Abel"
                }
            }
        },
        yaxis: {
            labels: {
                style: {
                    colors: "#ffffff"
                }
            }
        }
    };

    var chart = new ApexCharts(document.querySelector("#rank"), options);
    chart.render();

    //gráfico de linha com a taxa de alertas por dia da semana
    var options = {
        series: [{
            data: [10, 41, 35, 51, 49, 62, 80]
        }],
        chart: {
            height: 250,
            type: 'line',
            zoom: {
                enabled: false
            },
            toolbar: {
                show: false
            }
        },
        dataLabels: {
            enabled: false
        },
        stroke: {
            curve: 'straight',
            colors: ['#FF8818']  // Define a cor da linha
        },
        title: {
            text: 'Taxa de totem em alerta por dia da semana',
            align: 'center',
            style: {
                color: '#ffffff',
                fontSize: "20px",
                fontFamily: "Abel"
            }
        },
        grid: {
            row: {
                colors: ['transparent', 'transparent'],
                opacity: 0.5
            },
        },
        xaxis: {
            categories: ['Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sabado', 'Domingo'],
            labels: {
                style: {
                    colors: "#ffffff",
                    fontFamily: "Abel"
                }
            }
        },
        yaxis: {
            title:{
                text: 'Taxa de alerta do total de totens',
                align: 'center',
                style:{
                    color: '#ffffff',
                    fontFamily: 'Abel'
                }
            },
            labels: {
                style: {
                    colors: "#ffffff",
                    fontFamily: "Abel"
                },
                formatter: function (value) {
                    return value + "%";
                },
            }
        }
    };

    var chart = new ApexCharts(document.querySelector("#taxa"), options);
    chart.render();

    // gráfico de barras do total de alertas nas horas
    var options = {
        series: [{
            name: 'Total de alertas por hora',
            data: [44, 55, 57, 56, 61, 58, 63, 60, 66, 70, 79, 85]
        },
        ],
        title:{
            text: 'Total de alertas por hora',
            align: 'center',
            style:{
                color: '#ffffff',
                fontFamily: 'Abel',
                fontSize: '20px'
            }
        },
        chart: {
            type: 'bar',
            height: 250,
            toolbar:{
                show:false
            }
        },
        plotOptions: {
            bar: {
                horizontal: false,
                columnWidth: '55%',
                endingShape: 'rounded'
            },
        },
        dataLabels: {
            enabled: false
        },
        stroke: {
            show: true,
            width: 2,
            colors: ['transparent']
        },
        xaxis:{
            labels: {
                style: {
                    colors: '#ffffff',
                    fontFamily: 'Abel'
                }
            },
            categories: ['09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00'],
        },

        yaxis: {
            labels: {
            style: {
                colors: '#ffffff',
                fontFamily: 'Abel'
            }
        },
        },
        fill: {
            opacity: 1
        },
        tooltip: {
            y: {
                formatter: function (val) {
                    return "$ " + val + " thousands"
                }
            }
        }
    };

    var chart = new ApexCharts(document.querySelector("#total"), options);
    chart.render();


</script>